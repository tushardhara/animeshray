!function(e){"use strict";document.addEventListener("DOMContentLoaded",function(){if(!e("body").hasClass("thb-mobile")){var t=!1;e(document).on("mouseenter",".thb-mini-cart-icon",function(){t===!1&&(t=!0,e(this).find(".thb_mini_cart_wrapper").css("display","block"),setTimeout(function(){e("body").addClass("thb-mini-cart-active")},1))}).on("mouseleave",".thb-mini-cart-icon",function(){t===!0&&(t=!1,e(this).find(".thb_mini_cart_wrapper").css("display","none"),e("body").removeClass("thb-mini-cart-active"))})}},!1),e(document).ready(function(){e(".woocommerce-ordering select").selectOrDie(),e(".thb-product-image-wrapper .product_type_simple.add_to_cart_button").on("click",function(){var t=e(this),a=t.attr("data-added_text"),o=t.attr("data-add-to");t.addClass("product-added"),t.text(a),setTimeout(function(){t.text(o),t.removeClass("product-added")},2500)}),e("body").on("added_to_cart",function(t,a,o){e("body").removeClass("thb-woocommerce-cartempty")})})}(jQuery),function(e){e.fn.selectOrDie=function(t){"use strict";var a={customID:null,customClass:"",placeholder:null,prefix:null,cycle:!1,links:!1,linksExternal:!1,size:0,tabIndex:0,onChange:e.noop},o={},s,l,i={initSoD:function(t){return o=e.extend({},a,t),this.each(function(t){if(e(this).parent().hasClass("sod_select"))console.log("Select or Die: It looks like the SoD already exists");else{var a=e(this),s=o.customID?o.customID:a.data("custom-id")?a.data("custom-id"):o.customID,l=o.customClass?o.customClass:a.data("custom-class")?a.data("custom-class"):o.customClass,d=o.prefix?o.prefix:a.data("prefix")?a.data("prefix"):o.prefix,n=o.placeholder?o.placeholder:a.data("placeholder")?a.data("placeholder"):o.placeholder,c=o.cycle||a.data("cycle")?!0:o.cycle,r=o.links||a.data("links")?!0:o.links,p=o.linksExternal||a.data("links-external")?!0:o.linksExternal,u=o.size?o.size:a.data("size")?a.data("size"):o.size,h=o.tabIndex?o.tabIndex:a.data("tabindex")?a.data("tabindex"):a.attr("tabindex")?a.attr("tabindex"):o.tabIndex,f=a.prop("title")?a.prop("title"):null,b=a.is(":disabled")?" disabled":"",C="",m="",v=0,_,g,x;d&&(C='<span class="sod_prefix">'+d+"</span> "),m+=n&&!d?'<span class="sod_label sod_placeholder">'+n+"</span>":'<span class="sod_label">'+C+"</span>",_=e("<span/>",{id:s,"class":"sod_select "+l+b,title:f,tabindex:h,html:m,"data-cycle":c,"data-links":r,"data-links-external":p,"data-placeholder":n,"data-prefix":d,"data-filter":""}).insertAfter(this),i.isTouch()&&_.addClass("touch"),g=e("<span/>",{"class":"sod_list_wrapper"}).appendTo(_),x=e("<span/>",{"class":"sod_list"}).appendTo(g),e("option, optgroup",a).each(function(t){i.populateSoD(e(this),x,_)}),u&&(g.show(),e(".sod_option:lt("+u+")",x).each(function(t){v+=e(this).outerHeight()}),g.removeAttr("style"),x.css({"max-height":v})),a.appendTo(_),_.on("focusin",i.focusSod).on("click",i.triggerSod).on("click",".sod_option",i.optionClick).on("mousemove",".sod_option",i.optionHover).on("keydown keypress",i.keyboardUse),a.on("change",i.selectChange),e("html").on("click",function(){i.blurSod(_)}),e(document).on("click","label[for='"+a.attr("id")+"']",function(e){e.preventDefault(),_.focus()})}})},populateSoD:function(t,a,o){var s=o.data("placeholder"),l=o.data("prefix"),i=t.parent(),d=t.text(),n=t.val(),c=t.data("custom-id")?t.data("custom-id"):null,r=t.data("custom-class")?t.data("custom-class"):"",p=t.is(":disabled")?" disabled ":"",u=t.is(":selected")?" selected active ":"",h=t.data("link")?" link ":"",f=t.data("link-external")?" linkexternal":"";t.is("option")?(e("<span/>",{"class":"sod_option "+r+p+u+h+f,id:c,title:d,html:d,"data-value":n}).appendTo(a),(u&&!s||u&&l)&&o.find(".sod_label").append(d),u&&s&&!l?o.data("label",s):u&&o.data("label",d),i.is("optgroup")&&(a.find(".sod_option:last").addClass("groupchild"),i.is(":disabled")&&a.find(".sod_option:last").addClass("disabled"))):e("<span/>",{"class":"sod_option optgroup "+p,title:t.prop("label"),html:t.prop("label"),"data-label":t.prop("label")}).appendTo(a)},focusSod:function(){var t=e(this),a=e(".sod_select.focus");t.hasClass("disabled")?i.blurSod(t):(i.blurSod(a),t.addClass("focus"))},triggerSod:function(t){t.stopPropagation();var a=e(this),o=a.find(".sod_list"),s=a.data("placeholder"),d=a.find(".selected");a.hasClass("disabled")||a.hasClass("open")||a.hasClass("touch")?(clearTimeout(l),a.removeClass("open above")):(a.addClass("open"),e(".sod_select").not(this).removeClass("open focus"),s&&!a.data("prefix")&&a.find(".sod_label").addClass("sod_placeholder").html(s),i.listScroll(o,d),i.checkViewport(a,o))},keyboardUse:function(t){var a=e(this),o=a.find(".sod_list"),l=a.find(".sod_option"),d=a.find(".sod_label"),n=a.data("cycle"),c=l.filter(".active"),r,p,u,h,f;return 0!==t.which&&0!==t.charCode&&(clearTimeout(s),a.data("filter",a.data("filter")+String.fromCharCode(t.keyCode|t.charCode)),r=l.filter(function(){return 0===e(this).text().toLowerCase().indexOf(a.data("filter").toLowerCase())}).not(".disabled, .optgroup").first(),r.length&&(c.removeClass("active"),r.addClass("active"),i.listScroll(o,r),d.get(0).lastChild.nodeValue=r.text()),s=setTimeout(function(){a.data("filter","")},500)),t.which>36&&t.which<41?(37===t.which||38===t.which?(p=c.prevAll(":not('.disabled, .optgroup')").first(),u=l.not(".disabled, .optgroup").last()):(39===t.which||40===t.which)&&(p=c.nextAll(":not('.disabled, .optgroup')").first(),u=l.not(".disabled, .optgroup").first()),!p.hasClass("sod_option")&&n&&(p=u),(p.hasClass("sod_option")||n)&&(c.removeClass("active"),p.addClass("active"),d.get(0).lastChild.nodeValue=p.text(),i.listScroll(o,p)),!1):void(13===t.which||32===t.which&&a.hasClass("open")&&""===a.data("filter")?(t.preventDefault(),c.click()):32!==t.which||a.hasClass("open")||""!==a.data("filter")?27===t.which&&i.blurSod(a):(t.preventDefault(),a.click()))},optionHover:function(){var t=e(this);t.hasClass("disabled")||t.hasClass("optgroup")||t.siblings().removeClass("active").end().addClass("active")},optionClick:function(t){t.stopPropagation();var a=e(this),o=a.closest(".sod_select"),s=a.hasClass("disabled"),i=a.hasClass("optgroup"),d=o.find(".sod_option:not('.optgroup')").index(this);s||i||(o.find(".selected, .sod_placeholder").removeClass("selected sod_placeholder"),a.addClass("selected"),o.find("select option")[d].selected=!0,o.find("select").change()),clearTimeout(l),o.removeClass("open above")},selectChange:function(){var t=e(this),a=t.find(":selected"),s=a.text(),l=t.closest(".sod_select");l.find(".sod_label").get(0).lastChild.nodeValue=s,l.data("label",s),o.onChange.call(this),!l.data("links")&&!a.data("link")||a.data("link-external")?(l.data("links-external")||a.data("link-external"))&&window.open(a.val(),"_blank"):window.location.href=a.val()},blurSod:function(t){if(e("body").find(t).length){var a=t.data("label"),o=t.find(".active"),s=t.find(".selected");clearTimeout(l),t.hasClass("focus")&&!t.hasClass("open")?o.click():o.hasClass("selected")||(t.find(".sod_label").get(0).lastChild.nodeValue=a,o.removeClass("active"),s.addClass("active")),t.removeClass("open focus above"),t.blur()}},checkViewport:function(t,a){var o=t[0].getBoundingClientRect(),s=a.outerHeight();o.bottom+s+10>e(window).height()&&o.top-s>10?t.addClass("above"):t.removeClass("above"),l=setTimeout(function(){i.checkViewport(t,a)},200)},listScroll:function(e,t){var a=e[0].getBoundingClientRect(),o=t[0].getBoundingClientRect();a.top>o.top?e.scrollTop(e.scrollTop()-a.top+o.top):a.bottom<o.bottom&&e.scrollTop(e.scrollTop()-a.bottom+o.bottom)},isTouch:function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},d={destroy:function(){return this.each(function(t){var a=e(this),o=a.parent();o.hasClass("sod_select")?(a.off("change"),o.find("span").remove(),a.unwrap()):console.log("Select or Die: There's no SoD to destroy")})},update:function(){return this.each(function(t){var a=e(this),o=a.parent(),s=o.find(".sod_list:first");o.hasClass("sod_select")?(s.empty(),o.find(".sod_label").get(0).lastChild.nodeValue="",a.is(":disabled")&&o.addClass("disabled"),e("option, optgroup",a).each(function(t){i.populateSoD(e(this),s,o)})):console.log("Select or Die: There's no SoD to update")})},disable:function(t){return this.each(function(a){var o=e(this),s=o.parent();s.hasClass("sod_select")?"undefined"!=typeof t?(s.find(".sod_list:first .sod_option[data-value='"+t+"']").addClass("disabled"),s.find(".sod_list:first .sod_option[data-label='"+t+"']").nextUntil(":not(.groupchild)").addClass("disabled"),e("option[value='"+t+"'], optgroup[label='"+t+"']",this).prop("disabled",!0)):s.hasClass("sod_select")&&(s.addClass("disabled"),o.prop("disabled",!0)):console.log("Select or Die: There's no SoD to disable")})},enable:function(t){return this.each(function(a){var o=e(this),s=o.parent();s.hasClass("sod_select")?"undefined"!=typeof t?(s.find(".sod_list:first .sod_option[data-value='"+t+"']").removeClass("disabled"),s.find(".sod_list:first .sod_option[data-label='"+t+"']").nextUntil(":not(.groupchild)").removeClass("disabled"),e("option[value='"+t+"'], optgroup[label='"+t+"']",this).prop("disabled",!1)):s.hasClass("sod_select")&&(s.removeClass("disabled"),o.prop("disabled",!1)):console.log("Select or Die: There's no SoD to enable")})}};return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error('Select or Die: Oh no! No such method "'+t+'" for the SoD instance'):i.initSoD.apply(this,arguments)}}(jQuery);